function draw(t){var r=d3.scale.category20b(),e=420,a=20,n=d3.scale.linear().range([0,e]).domain([0,d3.max(t)]),o=d3.select("#graph").attr("width",e).attr("height",a*t.length),c=o.selectAll("g").data(t).enter().append("g").attr("transform",function(t,r){return"translate(0,"+r*a+")"});c.append("rect").attr("width",n).attr("height",a-1).style("fill",function(t){return r(t)}),c.append("text").attr("x",function(t){return n(t)-20}).attr("y",a/2).attr("dy",".5em").style("fill","white").text(function(t){return t})}function error(){console.log("error")}$.ajax({type:"GET",contentType:"application/json; charset=utf-8",url:"data",dataType:"json",success:function(t){draw(t)},error:function(){error()}});